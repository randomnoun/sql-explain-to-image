<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1"
  width="100%" height="100%" class="sql" onload="initSqlExplain(evt)">
  <defs>
    <style type="text/css"><![CDATA[svg text {
	pointer-events: none;
}
svg [data-tooltip-html] {
    pointer-events: auto;
}

svg.sql { 
    font-family: Arial;
    font-size: 14px;
}
svg.sql rect {
    stroke: black;
    fill: transparent;
}       
svg.sql text {
    text-anchor: middle; 
    dominant-baseline: middle;
    fill: black;
}
svg.sql g.queryBlock.topNode > rect { 
	fill: #cccccc; 
}
svg.sql g.union > rect { 
	fill: #b3b3b3; 
}

svg.sql g.duplicatesRemoval > rect,
svg.sql g.orderingOperation > rect,
svg.sql g.groupingOperation > rect { 
	stroke: #cfcf40; 
	stroke-width: 2; 
	rx: 9; 
	ry: 9; 
}

svg.sql g.table.nonUniqueKey > text,
svg.sql g.table.uniqueKey > text,
svg.sql g.table.fullTableScan > text,
svg.sql g.table.fullIndexScan > text { 
    fill: white;
    font-size: 11px; 
}

svg.sql g.table.nonUniqueKey > rect { 
	fill: #339933; 
}
svg.sql g.table.uniqueKey > rect { 
	fill: #008000; 
}
svg.sql g.table.fullTableScan > rect { 
	fill: #bf4040; 
}
svg.sql g.table.fullIndexScan > rect { 
	fill: #bf4040; 
}


svg.sql g.queryCost > text { 
	font-size: 11px; 
} 
svg.sql g.lhsQueryCost > text { 
	font-size: 11px; 
	text-anchor: start; 
}
svg.sql g.rhsQueryCost > text { 
	font-size: 11px; 
	text-anchor: end; 
}
svg.sql g.tableName > text { 
	font-size: 11px; 
} 
svg.sql g.tableKey > text { 
	font-size: 11px; 
	font-weight: bold; 
} 

svg.sql g.tempTableName > text { 
	font-size: 10px; 
	font-weight: bold; 
}
    ]]></style>
    <marker id="arrowhead" markerWidth="12" markerHeight="7" refX="0" refY="3.5" orient="auto" markerUnits="userSpaceOnUse">
      <polygon points="0 0, 12 3.5, 0 7" />
    </marker>
  </defs>
    <g>
        <rect x="0" y="0" width="995" height="620" style="stroke:transparent; "/>
        <g class="queryBlock topNode">
            <rect x="785" y="0" width="100" height="30" style="" data-tooltip-html="Select ID: 1&#xa;Query cost: 116.04&#xa;" />
            <text x="835" y="15" style="">query_block</text>
        </g>
        <g>
            <rect x="0" y="60" width="995" height="560" style="stroke:transparent; "/>
            <polyline points="835,60 835,42" style="stroke:#000000; stroke-width:1.0;" marker-end="url(#arrowhead)"/>
            <g class="orderingOperation">
                <rect x="795" y="60" width="80" height="40" style="" data-tooltip-html="Ordering operation&#xa;&#xa;Using Filesort: false" />
                <text x="835" y="80" style="">ORDER</text>
            </g>
            <g>
                <rect x="0" y="100" width="995" height="520" style="stroke:transparent; "/>
                <polyline points="835,150 835,112" style="stroke:#000000; stroke-width:1.0;" marker-end="url(#arrowhead)"/>
                <g>
                    <rect x="0" y="260" width="100" height="60" style="stroke:transparent; "/>
                    <polyline points="50,260 50,180 170,180" style="stroke:#000000; stroke-width:1.0050167224080269; fill: none;" marker-end="url(#arrowhead)"/>
                    <g class="tableName">
                        <rect x="0" y="292" width="100" height="14" style="stroke:transparent; "/>
                        <text x="50" y="299" style="">sto</text>
                    </g>
                    <g class="tableKey">
                        <rect x="0" y="306" width="100" height="14" style="stroke:transparent; "/>
                        <text x="50" y="313" style="">PRIMARY</text>
                    </g>
                    <g class="table fullIndexScan">
                        <rect x="0" y="260" width="100" height="30" style="" data-tooltip-html="sto&#xa;  Access Type: index&#xa;    Full Index Scan&#xa;    Cost Hint: High - especially for large indexes&#xa;  Used Columns: store_id,&#xa;    address_id&#xa;&#xa;Key/Index: PRIMARY&#xa;  Used Key Parts: store_id&#xa;  Possible Keys: PRIMARY,&#xa;    idx_fk_address_id&#xa;&#xa;Rows Examined per Scan: 2&#xa;Rows Produced per Join: 2&#xa;Filtered (ratio of rows produced per rows examined): 100%&#xa;  Hint: 100% is best, &amp;lt;= 1% is worst&#xa;  A low value means the query examines a lot of rows that are not returned.&#xa;Cost Info&#xa;  Read: 0.25&#xa;  Eval: 0.2&#xa;  Prefix: 0.45&#xa;  Data Read: 32" />
                        <text x="50" y="275" style="">Full Index Scan</text>
                    </g>
                    <g class="lhsQueryCost">
                        <rect x="0" y="245" width="50" height="10" style="stroke:transparent; "/>
                        <text x="0" y="250" style="text-anchor:start;">0.45</text>
                    </g>
                    <g class="rhsQueryCost">
                        <rect x="50" y="245" width="50" height="10" style="stroke:transparent; "/>
                        <text x="100" y="250" style="text-anchor:end;">2 rows</text>
                    </g>
                </g>
                <g>
                    <rect x="150" y="260" width="125" height="60" style="stroke:transparent; "/>
                    <polyline points="212,260 212,222" style="stroke:#000000; stroke-width:1.0;" marker-end="url(#arrowhead)"/>
                    <g class="tableName">
                        <rect x="150" y="292" width="125" height="14" style="stroke:transparent; "/>
                        <text x="212" y="299" style="">adr</text>
                    </g>
                    <g class="tableKey">
                        <rect x="150" y="306" width="125" height="14" style="stroke:transparent; "/>
                        <text x="212" y="313" style="">PRIMARY</text>
                    </g>
                    <g class="table uniqueKey">
                        <rect x="150" y="260" width="125" height="30" style="" data-tooltip-html="adr&#xa;  Access Type: eq_ref&#xa;    Unique Key Lookup&#xa;    Cost Hint: Low - The optimizer is able to find an index that it can use to retrieve required records.&#xa;Fast because the index search leads directly to the page with all the row data&#xa;  Used Columns: address_id,&#xa;    city_id&#xa;&#xa;Key/Index: PRIMARY&#xa;  Used Key Parts: address_id&#xa;  Possible Keys: PRIMARY,&#xa;    idx_fk_city_id&#xa;&#xa;Rows Examined per Scan: 1&#xa;Rows Produced per Join: 2&#xa;Filtered (ratio of rows produced per rows examined): 100%&#xa;  Hint: 100% is best, &amp;lt;= 1% is worst&#xa;  A low value means the query examines a lot of rows that are not returned.&#xa;Cost Info&#xa;  Read: 1.4&#xa;  Eval: 0.2&#xa;  Prefix: 2.05&#xa;  Data Read: 1K" />
                        <text x="212" y="275" style="">Unique Key Lookup</text>
                    </g>
                    <g class="lhsQueryCost">
                        <rect x="150" y="245" width="62" height="10" style="stroke:transparent; "/>
                        <text x="150" y="250" style="text-anchor:start;">1.6</text>
                    </g>
                    <g class="rhsQueryCost">
                        <rect x="212" y="245" width="62" height="10" style="stroke:transparent; "/>
                        <text x="274" y="250" style="text-anchor:end;">1 row</text>
                    </g>
                </g>
                <g>
                    <rect x="325" y="260" width="125" height="60" style="stroke:transparent; "/>
                    <polyline points="387,260 387,222" style="stroke:#000000; stroke-width:1.0;" marker-end="url(#arrowhead)"/>
                    <g class="tableName">
                        <rect x="325" y="292" width="125" height="14" style="stroke:transparent; "/>
                        <text x="387" y="299" style="">cit</text>
                    </g>
                    <g class="tableKey">
                        <rect x="325" y="306" width="125" height="14" style="stroke:transparent; "/>
                        <text x="387" y="313" style="">PRIMARY</text>
                    </g>
                    <g class="table uniqueKey">
                        <rect x="325" y="260" width="125" height="30" style="" data-tooltip-html="cit&#xa;  Access Type: eq_ref&#xa;    Unique Key Lookup&#xa;    Cost Hint: Low - The optimizer is able to find an index that it can use to retrieve required records.&#xa;Fast because the index search leads directly to the page with all the row data&#xa;  Used Columns: city_id,&#xa;    city,&#xa;    country_id&#xa;&#xa;Key/Index: PRIMARY&#xa;  Used Key Parts: city_id&#xa;  Possible Keys: PRIMARY,&#xa;    idx_fk_country_id&#xa;&#xa;Rows Examined per Scan: 1&#xa;Rows Produced per Join: 2&#xa;Filtered (ratio of rows produced per rows examined): 100%&#xa;  Hint: 100% is best, &amp;lt;= 1% is worst&#xa;  A low value means the query examines a lot of rows that are not returned.&#xa;Cost Info&#xa;  Read: 0.5&#xa;  Eval: 0.2&#xa;  Prefix: 2.75&#xa;  Data Read: 432" />
                        <text x="387" y="275" style="">Unique Key Lookup</text>
                    </g>
                    <g class="lhsQueryCost">
                        <rect x="325" y="245" width="62" height="10" style="stroke:transparent; "/>
                        <text x="325" y="250" style="text-anchor:start;">0.7</text>
                    </g>
                    <g class="rhsQueryCost">
                        <rect x="387" y="245" width="62" height="10" style="stroke:transparent; "/>
                        <text x="449" y="250" style="text-anchor:end;">1 row</text>
                    </g>
                </g>
                <g>
                    <rect x="500" y="260" width="125" height="60" style="stroke:transparent; "/>
                    <polyline points="562,260 562,222" style="stroke:#000000; stroke-width:1.0;" marker-end="url(#arrowhead)"/>
                    <g class="tableName">
                        <rect x="500" y="292" width="125" height="14" style="stroke:transparent; "/>
                        <text x="562" y="299" style="">cou</text>
                    </g>
                    <g class="tableKey">
                        <rect x="500" y="306" width="125" height="14" style="stroke:transparent; "/>
                        <text x="562" y="313" style="">PRIMARY</text>
                    </g>
                    <g class="table uniqueKey">
                        <rect x="500" y="260" width="125" height="30" style="" data-tooltip-html="cou&#xa;  Access Type: eq_ref&#xa;    Unique Key Lookup&#xa;    Cost Hint: Low - The optimizer is able to find an index that it can use to retrieve required records.&#xa;Fast because the index search leads directly to the page with all the row data&#xa;  Used Columns: country_id,&#xa;    country&#xa;&#xa;Key/Index: PRIMARY&#xa;  Used Key Parts: country_id&#xa;  Possible Keys: PRIMARY&#xa;&#xa;Rows Examined per Scan: 1&#xa;Rows Produced per Join: 2&#xa;Filtered (ratio of rows produced per rows examined): 100%&#xa;  Hint: 100% is best, &amp;lt;= 1% is worst&#xa;  A low value means the query examines a lot of rows that are not returned.&#xa;Cost Info&#xa;  Read: 0.5&#xa;  Eval: 0.2&#xa;  Prefix: 3.45&#xa;  Data Read: 416" />
                        <text x="562" y="275" style="">Unique Key Lookup</text>
                    </g>
                    <g class="lhsQueryCost">
                        <rect x="500" y="245" width="62" height="10" style="stroke:transparent; "/>
                        <text x="500" y="250" style="text-anchor:start;">0.7</text>
                    </g>
                    <g class="rhsQueryCost">
                        <rect x="562" y="245" width="62" height="10" style="stroke:transparent; "/>
                        <text x="624" y="250" style="text-anchor:end;">1 row</text>
                    </g>
                </g>
                <g>
                    <rect x="675" y="260" width="320" height="360" style="stroke:transparent; "/>
                    <polyline points="835,260 835,222" style="stroke:#000000; stroke-width:1.7976588628762542;" marker-end="url(#arrowhead)"/>
                    <g class="dotted">
                        <rect x="675" y="260" width="320" height="360" style="stroke:#8c8c8c; stroke-dasharray:4; "/>
                    </g>
                    <g>
                        <rect x="685" y="345" width="300" height="260" style="stroke:transparent; "/>
                        <g>
                            <rect x="685" y="345" width="300" height="260" style="stroke:transparent; "/>
                            <g class="groupingOperation">
                                <rect x="870" y="345" width="80" height="40" style=""/>
                                <text x="910" y="365" style="">GROUP</text>
                            </g>
                            <g>
                                <rect x="685" y="385" width="300" height="220" style="stroke:transparent; "/>
                                <polyline points="910,435 910,397" style="stroke:#000000; stroke-width:1.0;" marker-end="url(#arrowhead)"/>
                                <g>
                                    <rect x="685" y="545" width="100" height="60" style="stroke:transparent; "/>
                                    <polyline points="735,545 735,465 868,465" style="stroke:#000000; stroke-width:4.0; fill: none;" marker-end="url(#arrowhead)"/>
                                    <g class="tableName">
                                        <rect x="685" y="577" width="100" height="14" style="stroke:transparent; "/>
                                        <text x="735" y="584" style="">cus</text>
                                    </g>
                                    <g class="tableKey">
                                        <rect x="685" y="591" width="100" height="14" style="stroke:transparent; "/>
                                        <text x="735" y="598" style="">idx_fk_store_id</text>
                                    </g>
                                    <g class="table fullIndexScan">
                                        <rect x="685" y="545" width="100" height="30" style="" data-tooltip-html="cus&#xa;  Access Type: index&#xa;    Full Index Scan&#xa;    Cost Hint: High - especially for large indexes&#xa;  Used Columns: customer_id,&#xa;    store_id&#xa;&#xa;Key/Index: idx_fk_store_id&#xa;  Used Key Parts: store_id&#xa;  Possible Keys: PRIMARY,&#xa;    idx_fk_store_id&#xa;&#xa;Rows Examined per Scan: 599&#xa;Rows Produced per Join: 599&#xa;Filtered (ratio of rows produced per rows examined): 100%&#xa;  Hint: 100% is best, &amp;lt;= 1% is worst&#xa;  A low value means the query examines a lot of rows that are not returned.&#xa;Cost Info&#xa;  Read: 1.25&#xa;  Eval: 59.9&#xa;  Prefix: 61.15&#xa;  Data Read: 341K" />
                                        <text x="735" y="560" style="">Full Index Scan</text>
                                    </g>
                                    <g class="lhsQueryCost">
                                        <rect x="685" y="530" width="50" height="10" style="stroke:transparent; "/>
                                        <text x="685" y="535" style="text-anchor:start;">61.15</text>
                                    </g>
                                    <g class="rhsQueryCost">
                                        <rect x="735" y="530" width="50" height="10" style="stroke:transparent; "/>
                                        <text x="785" y="535" style="text-anchor:end;">599 rows</text>
                                    </g>
                                </g>
                                <g>
                                    <rect x="835" y="545" width="150" height="60" style="stroke:transparent; "/>
                                    <polyline points="910,545 910,507" style="stroke:#000000; stroke-width:1.125418060200669;" marker-end="url(#arrowhead)"/>
                                    <g class="tableName">
                                        <rect x="835" y="577" width="150" height="14" style="stroke:transparent; "/>
                                        <text x="910" y="584" style="">pay</text>
                                    </g>
                                    <g class="tableKey">
                                        <rect x="835" y="591" width="150" height="14" style="stroke:transparent; "/>
                                        <text x="910" y="598" style="">idx_fk_customer_id</text>
                                    </g>
                                    <g class="table nonUniqueKey">
                                        <rect x="835" y="545" width="150" height="30" style="" data-tooltip-html="pay&#xa;  Access Type: ref&#xa;    Non-Unique Key Lookup&#xa;    Cost Hint: Low-medium - Low if number of matching rows is small, higher as the number of rows increases&#xa;  Used Columns: payment_id,&#xa;    customer_id,&#xa;    amount&#xa;&#xa;Key/Index: idx_fk_customer_id&#xa;  Used Key Parts: customer_id&#xa;  Possible Keys: idx_fk_customer_id&#xa;&#xa;Rows Examined per Scan: 26&#xa;Rows Produced per Join: 16085&#xa;Filtered (ratio of rows produced per rows examined): 100%&#xa;  Hint: 100% is best, &amp;lt;= 1% is worst&#xa;  A low value means the query examines a lot of rows that are not returned.&#xa;Cost Info&#xa;  Read: 4021.5&#xa;  Eval: 1608.6&#xa;  Prefix: 5691.25&#xa;  Data Read: 377K" />
                                        <text x="910" y="560" style="">Non-Unique Key Lookup</text>
                                    </g>
                                    <g class="lhsQueryCost">
                                        <rect x="835" y="530" width="75" height="10" style="stroke:transparent; "/>
                                        <text x="835" y="535" style="text-anchor:start;">5630.1</text>
                                    </g>
                                    <g class="rhsQueryCost">
                                        <rect x="910" y="530" width="75" height="10" style="stroke:transparent; "/>
                                        <text x="985" y="535" style="text-anchor:end;">26 rows</text>
                                    </g>
                                </g>
                                <g>
                                <path fill="white" stroke="black" d="M 910,435 l 30 30 l -30 30 l -30 -30 l 30 -30">
                                    <title>nested_loop&#xa;&#xa;Prefix Cost: 5691.25</title>
                                </path>
                                <text x="910" y="460" font-size="10px" dominant-baseline="middle" text-anchor="middle">nested</text>
                                <text x="910" y="470" font-size="10px" dominant-baseline="middle" text-anchor="middle">loop</text>
                                    <g class="queryCost">
                                        <rect x="870" y="420" width="40" height="10" style="stroke:transparent; "/>
                                        <text x="870" y="425" style="text-anchor:start;">5691.25</text>
                                    </g>
                                    <g class="queryCost">
                                        <rect x="920" y="425" width="25" height="10" style="stroke:transparent; "/>
                                        <text x="920" y="430" style="text-anchor:start;">16.09K rows</text>
                                    </g>
                                </g>
                            </g>
                        </g>
                    </g>
                    <g class="materialisedTableName">
                        <rect x="675" y="292" width="320" height="20" style="stroke:transparent; fill:#e8e8e8; "/>
                        <text x="835" y="302" style="">B (materialised)</text>
                    </g>
                    <g class="tableKey">
                        <rect x="675" y="312" width="320" height="14" style="stroke:transparent; "/>
                        <text x="835" y="319" style="">&lt;auto_key0&gt;</text>
                    </g>
                    <g class="table nonUniqueKey">
                        <rect x="675" y="260" width="320" height="30" style="" data-tooltip-html="B&#xa;  Access Type: ref&#xa;    Non-Unique Key Lookup&#xa;    Cost Hint: Low-medium - Low if number of matching rows is small, higher as the number of rows increases&#xa;  Used Columns: store_id,&#xa;    sales&#xa;&#xa;Key/Index: &amp;lt;auto_key0&amp;gt;&#xa;  Used Key Parts: store_id&#xa;  Possible Keys: &amp;lt;auto_key0&amp;gt;&#xa;&#xa;Rows Examined per Scan: 160&#xa;Rows Produced per Join: 321&#xa;Filtered (ratio of rows produced per rows examined): 100%&#xa;  Hint: 100% is best, &amp;lt;= 1% is worst&#xa;  A low value means the query examines a lot of rows that are not returned.&#xa;Cost Info&#xa;  Read: 80.42&#xa;  Eval: 32.17&#xa;  Prefix: 116.05&#xa;  Data Read: 7K" />
                        <text x="835" y="275" style="">Non-Unique Key Lookup</text>
                    </g>
                    <g class="lhsQueryCost">
                        <rect x="675" y="245" width="160" height="10" style="stroke:transparent; "/>
                        <text x="675" y="250" style="text-anchor:start;">112.59</text>
                    </g>
                    <g class="rhsQueryCost">
                        <rect x="835" y="245" width="160" height="10" style="stroke:transparent; "/>
                        <text x="995" y="250" style="text-anchor:end;">160 rows</text>
                    </g>
                </g>
                <g>
                <path fill="white" stroke="black" d="M 212,150 l 30 30 l -30 30 l -30 -30 l 30 -30">
                    <title>nested_loop&#xa;&#xa;Prefix Cost: 2.05</title>
                </path>
                <text x="212" y="175" font-size="10px" dominant-baseline="middle" text-anchor="middle">nested</text>
                <text x="212" y="185" font-size="10px" dominant-baseline="middle" text-anchor="middle">loop</text>
                    <polyline points="242,180 345,180" style="stroke:#000000; stroke-width:1.0;" marker-end="url(#arrowhead)"/>
                    <g class="queryCost">
                        <rect x="172" y="135" width="40" height="10" style="stroke:transparent; "/>
                        <text x="172" y="140" style="text-anchor:start;">2.05</text>
                    </g>
                    <g class="queryCost">
                        <rect x="247" y="165" width="25" height="10" style="stroke:transparent; "/>
                        <text x="247" y="170" style="text-anchor:start;">2 rows</text>
                    </g>
                </g>
                <g>
                <path fill="white" stroke="black" d="M 387,150 l 30 30 l -30 30 l -30 -30 l 30 -30">
                    <title>nested_loop&#xa;&#xa;Prefix Cost: 2.75</title>
                </path>
                <text x="387" y="175" font-size="10px" dominant-baseline="middle" text-anchor="middle">nested</text>
                <text x="387" y="185" font-size="10px" dominant-baseline="middle" text-anchor="middle">loop</text>
                    <polyline points="417,180 520,180" style="stroke:#000000; stroke-width:1.0;" marker-end="url(#arrowhead)"/>
                    <g class="queryCost">
                        <rect x="347" y="135" width="40" height="10" style="stroke:transparent; "/>
                        <text x="347" y="140" style="text-anchor:start;">2.75</text>
                    </g>
                    <g class="queryCost">
                        <rect x="422" y="165" width="25" height="10" style="stroke:transparent; "/>
                        <text x="422" y="170" style="text-anchor:start;">2 rows</text>
                    </g>
                </g>
                <g>
                <path fill="white" stroke="black" d="M 562,150 l 30 30 l -30 30 l -30 -30 l 30 -30">
                    <title>nested_loop&#xa;&#xa;Prefix Cost: 3.45</title>
                </path>
                <text x="562" y="175" font-size="10px" dominant-baseline="middle" text-anchor="middle">nested</text>
                <text x="562" y="185" font-size="10px" dominant-baseline="middle" text-anchor="middle">loop</text>
                    <polyline points="592,180 793,180" style="stroke:#000000; stroke-width:1.0;" marker-end="url(#arrowhead)"/>
                    <g class="queryCost">
                        <rect x="522" y="135" width="40" height="10" style="stroke:transparent; "/>
                        <text x="522" y="140" style="text-anchor:start;">3.45</text>
                    </g>
                    <g class="queryCost">
                        <rect x="597" y="165" width="25" height="10" style="stroke:transparent; "/>
                        <text x="597" y="170" style="text-anchor:start;">2 rows</text>
                    </g>
                </g>
                <g>
                <path fill="white" stroke="black" d="M 835,150 l 30 30 l -30 30 l -30 -30 l 30 -30">
                    <title>nested_loop&#xa;&#xa;Prefix Cost: 116.05</title>
                </path>
                <text x="835" y="175" font-size="10px" dominant-baseline="middle" text-anchor="middle">nested</text>
                <text x="835" y="185" font-size="10px" dominant-baseline="middle" text-anchor="middle">loop</text>
                    <g class="queryCost">
                        <rect x="795" y="135" width="40" height="10" style="stroke:transparent; "/>
                        <text x="795" y="140" style="text-anchor:start;">116.05</text>
                    </g>
                    <g class="queryCost">
                        <rect x="845" y="140" width="25" height="10" style="stroke:transparent; "/>
                        <text x="845" y="145" style="text-anchor:start;">321 rows</text>
                    </g>
                </g>
            </g>
        </g>
    </g>
<g id="tooltip" visibility="hidden" >
		<foreignObject style="overflow: visible;">
		    <body xmlns="http://www.w3.org/1999/xhtml" style="margin: 0; padding: 0;">
		      <div style="padding: 4px; white-space: pre; display: inline-block; background: white; border: 1px solid black; box-shadow: 2px 2px 2px #333;">Tooltip</div>
		    </body>      
		</foreignObject>
	</g>
    <script type="text/ecmascript"><![CDATA[
// this javascript is either
// - embedded inside the SVG in an SVG <script> tag
// - embedded inside the HTML in an HTML <script> tag
//
// the initSqlExplain() function is called from an 'onload' attribute on the SVG element

// the tooltip code has been adapted from the javascript at
//   https://github.com/petercollingridge/code-for-blog/blob/master/svg-interaction/tooltip/change_text_dynamic_length.svg?short_path=b59eb3f

function initSqlExplain(e) {
    svg = e.target.ownerDocument;
    svgRoot = e.target; // svg.documentElement

    var tooltip = svg.getElementById('tooltip');
    var tooltipFo = tooltip.getElementsByTagName('foreignObject')[0];
    var tooltipDiv = tooltipFo.getElementsByTagName('div')[0];
    var triggers = svg.querySelectorAll('[data-tooltip-html]');

    for (var i = 0; i < triggers.length; i++) {
        triggers[i].addEventListener('mousemove', showTooltip);
        triggers[i].addEventListener('mouseout', hideTooltip);
    }

    function showTooltip(evt) {
        var CTM = svgRoot.getScreenCTM();
        var x = (evt.clientX - CTM.e + 6) / CTM.a;
        var y = (evt.clientY - CTM.f + 20) / CTM.d;
        tooltip.setAttributeNS(null, "transform", "translate(" + x + " " + y + ")");
        tooltip.setAttributeNS(null, "visibility", "visible");

        tooltipDiv.innerHTML = evt.target.getAttributeNS(null, "data-tooltip-html");
    }

    function hideTooltip(evt) {
        tooltip.setAttributeNS(null, "visibility", "hidden");
    }
}

    ]]></script>
</svg>
